(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){e.exports=a(250)},119:function(e,t,a){},122:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},144:function(e,t){},146:function(e,t){},180:function(e,t){},181:function(e,t){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(111),l=a.n(s);a(119),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(2),c=a(3),o=a(5),u=a(4),m=a(6),p=a(16),d=a(1),f=a.n(d),h=a(7),v=a(252);function b(e){return E.apply(this,arguments)}function E(){return(E=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e,t){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(f.a.mark(function e(t,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/user",{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var N=function(){return localStorage.getItem("rbs-reddit-app-token")?localStorage.getItem("rbs-reddit-app-token"):null},O=Object(v.a)(document,"authTokenChange"),x=function(e){O.subscribe({next:function(t){e(t.detail)}})},w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={authToken:N()},x(function(e){return a.setState({authToken:e})}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,this.props.cb({authToken:this.state.authToken}))}}]),t}(n.Component);var _=function(){var e=Object(h.a)(f.a.mark(function e(t){var a,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("rbs-reddit-app-token",t),e.next=3,y(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,localStorage.setItem("rbs-reddit-app-logged-user",JSON.stringify(n)),r=new CustomEvent("authTokenChange",{detail:t}),document.dispatchEvent(r);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function C(e){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/links/".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){return U.apply(this,arguments)}function U(){return(U=Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/links",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return F.apply(this,arguments)}function F(){return(F=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/links/".concat(t,"/viewPage"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return V.apply(this,arguments)}function V(){return(V=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/links",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":N()},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e){return P.apply(this,arguments)}function P(){return(P=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/links/".concat(t,"/upvote"),{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":N()}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(e){return q.apply(this,arguments)}function q(){return(q=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/links/".concat(t,"/downvote"),{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":N()}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t){return K.apply(this,arguments)}function K(){return(K=Object(h.a)(f.a.mark(function e(t,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/links/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json","x-auth-token":N()},body:JSON.stringify({title:a.title,url:a.link})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}a(122);var M=a(10),B=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_handleUpvode",value:function(){this.props.onUpdate(1,this.props.item.id)}},{key:"_handleDownvote",value:function(){this.props.onUpdate(0,this.props.item.id)}},{key:"_countVotes",value:function(){var e=this.props.item.votes.filter(function(e){return!0===e.flag}),t=this.props.item.votes.filter(function(e){return!1===e.flag});return(e.length?e.length:0)-(t.length?t.length:0)}},{key:"render",value:function(){var e=this.props.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"link-row",className:"row no-gutters"},r.a.createElement("div",{id:"score",className:"col-1"},N()?this._renderScore():r.a.createElement("div",null)),r.a.createElement("div",{id:"link-body",className:"col-11"},this._renderPostedBy(),r.a.createElement("h5",{id:"item-title"},r.a.createElement(M.b,{style:{color:"white",textDecoration:"none"},to:"/link/".concat(e.id)},e.title)),r.a.createElement("a",{target:"_blank",href:e.url},r.a.createElement("small",null,e.url.length>40?"".concat(e.url.slice(0,40),"..."):e.url)),r.a.createElement("br",null),this._renderCommentsCount())))}},{key:"_renderScore",value:function(){var e=this;return void 0!==this.props.item.score?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(){e._handleUpvode()},className:"fas fa-lg fa-chevron-up"}),r.a.createElement("br",null),this._countVotes(),r.a.createElement("br",null),r.a.createElement("i",{onClick:function(){e._handleDownvote()},className:"fas fa-lg fa-chevron-down"})):r.a.createElement("div",null)}},{key:"_renderPostedBy",value:function(){return void 0!==this.props.item.username?r.a.createElement("small",null,"Posted by u/",this.props.item.username," ",this.renderTimeSinceDate(this.props.item.date)+" ago"):r.a.createElement("div",null)}},{key:"_renderCommentsCount",value:function(){return void 0!==this.props.item.commentCount?r.a.createElement(M.b,{style:{color:"white",fontSize:13},to:"/link/".concat(this.props.item.id)},r.a.createElement("i",{className:"fas fa-comment-alt"}),r.a.createElement("span",{style:{marginRight:5}}),this.props.item.commentCount," comments"):r.a.createElement("div",null)}},{key:"renderTimeSinceDate",value:function(e){var t=Date.parse(e),a=((new Date).getTime()-t)/1e3,n=Math.ceil(a),r=Math.ceil(n/60),s=Math.ceil(r/60),l=Math.ceil(s/24);return n<60?"".concat(n," seconds"):r<60?"".concat(r," minutes"):s<24?"".concat(s," hours"):"".concat(l," days")}}]),t}(n.Component),Q=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.items.length>0?this._displayItems():r.a.createElement("div",{className:"text-center mb-3 mt-3"},"There are no available links."))}},{key:"_displayItems",value:function(){var e=this;return this.props.items.map(function(t){return r.a.createElement("div",{className:"p-1",key:t.id},r.a.createElement(B,{onUpdate:function(t,a){e.props.onUpdate(t,a)},item:t,key:t.id}))})}}]),t}(n.Component),G=(a(131),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"pro",className:" no-gutters m-2"},r.a.createElement("div",{id:"test",className:"progress m-3"},r.a.createElement("div",{className:"bg-secondary progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":99,"aria-valuemin":0,"aria-valuemax":100,style:{width:"100%"}})),r.a.createElement("div",{id:"test",className:"progress m-3"},r.a.createElement("div",{className:"bg-secondary progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":99,"aria-valuemin":0,"aria-valuemax":100,style:{width:"100%"}})),r.a.createElement("div",{id:"test",className:"progress m-3"},r.a.createElement("div",{className:"bg-secondary progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":99,"aria-valuemin":0,"aria-valuemax":100,style:{width:"100%"}}))))}}]),t}(n.Component)),H=(a(132),function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_onSearch",value:function(e){this.props.query(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group p-1"},r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{id:"searchButton",className:"btn btn-outline-primary",type:"submit"},r.a.createElement("i",{className:"fa fa-search"}))),r.a.createElement("input",{onKeyUp:function(t){return e._onSearch(t.currentTarget.value)},id:"search-input",type:"text",className:"form-control pl-5",placeholder:"Explore"})))}}]),t}(n.Component));function W(){return R.apply(this,arguments)}function R(){return(R=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/users",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.userCount);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(h.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={numberOfUsers:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,this.setState({numberOfUsers:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.numberOfUsers?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},r.a.createElement("div",{className:"border m-1 p-2"},r.a.createElement("div",{className:"div p-2 pb-4"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-users"})," r/cct"),r.a.createElement("span",{id:"users",className:"float-right mr-2"},this.state.numberOfUsers," users")),r.a.createElement("div",{className:"div p-1"},r.a.createElement(M.b,{to:"/link_editor"},r.a.createElement("button",{className:"btn btn-sm btn-outline-primary p-1 w-100"},"Create Link")))))):r.a.createElement("div",null)}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={links:null,query:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinksData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_onVoteUpdate",value:function(){var e=Object(h.a)(f.a.mark(function e(t,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=5;break}return e.next=3,D(a);case 3:e.next=7;break;case 5:return e.next=7,J(a);case 7:return e.next=9,this._getLinksData();case 9:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.links){var t=this.state.links.filter(function(t){return-1!==t.title.toLowerCase().indexOf(e.state.query.toLowerCase())});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-0 col-md-8 offset-lg-1 col-lg-7 offset-xl-2 col-xl-5"},r.a.createElement("div",null,r.a.createElement(H,{query:function(t){return e.setState({query:t})}})),r.a.createElement("div",null,r.a.createElement(Q,{onUpdate:function(t,a){return e._onVoteUpdate(t,a)},items:t}))),r.a.createElement("div",{className:"col-md-4 col-lg-3 col-xl-3  d-none d-md-block"},r.a.createElement(Z,null))))}return r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-0 col-md-8 offset-lg-1 col-lg-7 offset-xl-2 col-xl-5"},this._renderLoading())}},{key:"_getLinksData",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a,n,r=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.links.map(function(e){return{id:e.id,title:e.title,url:e.url,votes:e.votes,commentCount:e.comments.length,date:e.createdAt.slice(0,10),username:e.user.username,userId:e.user.id,score:e.votes.length}}),setTimeout(function(){r.setState({links:n})},200);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_renderLoading",value:function(){for(var e=[],t=0;t<6;t++)e.push(r.a.createElement(G,{key:t}));return e}}]),t}(n.Component);a(133),a(134);function X(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("/api/v1/comments",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":N()},body:JSON.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var te,ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={content:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_renderAuthUser",value:function(){return N()?JSON.parse(localStorage.getItem("rbs-reddit-app-logged-user")).username:r.a.createElement("div",null)}},{key:"_handleOnComment",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={content:this.state.content,linkId:this.props.linkId},e.next=3,X(t);case 3:return a=e.sent,e.next=6,a.json();case 6:e.sent,this.props.onCommentCreated();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_updateContent",value:function(e){this.setState({content:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,N()?r.a.createElement("div",null,r.a.createElement("small",null,"Comment as ",r.a.createElement(M.b,{to:"/user/".concat(this.props.userId)},this._renderAuthUser())),r.a.createElement("div",{className:"input-group"},r.a.createElement("textarea",{onKeyUp:function(t){return e._updateContent(t.target.value)},id:"content",className:"form-control-lg","aria-label":"With textarea"})),r.a.createElement("button",{onClick:function(){return e._handleOnComment()},className:"btn btn-sm btn-outline-primary mt-2"},"Comment")):r.a.createElement("div",null))}}]),t}(n.Component),ne=(a(135),function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"comment-row",className:"w-100 row no-gutters mt-1 mb-1"},r.a.createElement("div",{id:"score",className:"col-1"},N()?this._renderVote():r.a.createElement("div",null)),r.a.createElement("div",{id:"link-body",className:"col-11"},this._renderPostedBy(),r.a.createElement("p",null,e.content))))}},{key:"_renderVote",value:function(){return void 0!==this.props.username?r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-chevron-up"}),r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-chevron-down"})):r.a.createElement("div",null)}},{key:"_renderPostedBy",value:function(){var e=this.props;return void 0!==e.username?r.a.createElement("small",null,e.username," ",e.date):r.a.createElement("div",null)}}]),t}(n.Component)),re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isAuthor:a.props.item.user.id===(localStorage.getItem("rbs-reddit-app-logged-user")?JSON.parse(localStorage.getItem("rbs-reddit-app-logged-user")).id:-1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_handleUpvode",value:function(){this.props.onUpdate(1,this.props.item.id)}},{key:"_handleDownvote",value:function(){this.props.onUpdate(0,this.props.item.id)}},{key:"_countVotes",value:function(){var e=this.props.item.votes.filter(function(e){return!0===e.flag}),t=this.props.item.votes.filter(function(e){return!1===e.flag});return(e.length?e.length:0)-(t.length?t.length:0)}},{key:"_onCommentCreated",value:function(){this.props.onCommentCreated()}},{key:"_renderEditButton",value:function(e){return this.state.isAuthor?r.a.createElement("button",{className:"btn btn-sm btn-outline-primary float-right"},r.a.createElement(M.b,{to:"/link_editor/".concat(e)},"Edit")):r.a.createElement("div",null)}},{key:"_renderComments",value:function(){return this.props.item.comments.map(function(e,t){return r.a.createElement(ne,{id:e.id,content:e.content,date:e.createdAt.slice(0,10),username:e.user.username,userId:e.user.userId,onUpvote:function(){},onDownvote:function(){},key:t})})}},{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"link-row2",className:"row no-gutters"},r.a.createElement("div",{id:"score",className:"col-1"},N()?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(){return e._handleUpvode()},className:"fas fa-lg fa-chevron-up"}),r.a.createElement("br",null),this._countVotes(),r.a.createElement("br",null),r.a.createElement("i",{onClick:function(){return e._handleDownvote()},className:"fas fa-lg fa-chevron-down"})):r.a.createElement("div",null)),r.a.createElement("div",{id:"link-body",className:"col-11"},r.a.createElement("small",null,"Posted by /u/",t.user.username," ",t.createdAt.slice(0,10)),this._renderEditButton(t.id),r.a.createElement("h5",{id:"item-title"},this.props.item.title),r.a.createElement("a",{href:this.props.item.url},r.a.createElement("small",null,this.props.item.url.length>40?"".concat(this.props.item.url.slice(0,40),"..."):this.props.item.url)),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-comment-alt"}),r.a.createElement("span",{style:{marginRight:5}}),t.comments.length," comments"),r.a.createElement("div",{className:"pt-2"},r.a.createElement(ae,{username:t.user.username,userId:t.user.id,linkId:t.id,onCommentCreated:function(){return e._onCommentCreated()}}),r.a.createElement("div",{className:"pt-3 pb-2"},"Comments:"),r.a.createElement("div",{className:"col-11"},this._renderComments())))))}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={item:null,comment:{content:null}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_onVoteUpdate",value:function(){var e=Object(h.a)(f.a.mark(function e(t,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=5;break}return e.next=3,D(a);case 3:e.next=7;break;case 5:return e.next=7,J(a);case 7:return e.next=9,this._getLinkData();case 9:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"_onCommentCreated",value:function(){var e=Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLinkData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.item?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-2 col-md-8 offset-lg-2 col-lg-8 offset-xl-3 col-xl-6"},r.a.createElement(re,{item:this.state.item,onUpdate:function(t,a){return e._onVoteUpdate(t,a)},onCommentCreated:function(){return e._onCommentCreated()}}))):r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-2 col-md-8 offset-lg-2 col-lg-8 offset-xl-3 col-xl-6"},r.a.createElement(G,null))}},{key:"_getLinkData",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(this.props.match.params.link_id);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({item:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),le=Object(p.e)(function(e){return r.a.createElement(se,e)}),ie=(a(136),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={editLink:!1,editTitle:!1,title:a.props.item.title,link:a.props.item.url},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_handleSave",value:function(){this.setState({editTitle:!1,editLink:!1}),this.props.onUpdate(this.props.item.id,{title:this.state.title,link:this.state.link})}},{key:"_handleLinkCancel",value:function(){this.setState({editLink:!this.state.editLink})}},{key:"_handleTitleCancel",value:function(){this.setState({editTitle:!this.state.editTitle})}},{key:"_updateTitle",value:function(e){var t=e.target.value;this.setState({title:t})}},{key:"_updateLink",value:function(e){var t=e.target.value;this.setState({link:t})}},{key:"render",value:function(){var e=this;this.props.item;return console.log(this.state.link),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-md-2 col-md-8 offset-lg-2 col-lg-8 offset-xl-3 col-xl-6"},r.a.createElement("div",{className:" bg-dark p-2 border rounded"},r.a.createElement("div",null,this.state.editTitle?r.a.createElement("div",null):r.a.createElement("h5",null,this.props.item.title,r.a.createElement("button",{onClick:function(t){return e.setState({editTitle:!e.state.editTitle})},className:"btn btn-sm btn-outline-secondary ml-2"},"edit")),this.state.editTitle?r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:function(e){},onKeyUp:function(t){return e._updateTitle(t)},type:"text",className:"form-control",id:"title","aria-describedby":"emailHelp",placeholder:this.state.title}),r.a.createElement("button",{onClick:function(){return e._handleSave()},className:"mt-2 btn btn-sm btn-outline-primary"},"Save"),r.a.createElement("button",{onClick:function(){return e._handleTitleCancel()},className:"mt-2 ml-2 btn btn-sm btn-outline-warning"},"Cancel")):r.a.createElement("div",null),this.state.editLink?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("a",null,r.a.createElement("small",null,this.props.item.url.length>40?"".concat(this.props.item.url.slice(0,40),"..."):this.props.item.url)),r.a.createElement("button",{onClick:function(){return e.setState({editLink:!e.state.editLink})},className:"ml-2 btn btn-sm btn-outline-secondary"},"edit"),r.a.createElement("br",null)),this.state.editLink?r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:function(){},onKeyUp:function(t){return e._updateLink(t)},type:"text",className:"form-control black-input",id:"link","aria-describedby":"emailHelp",placeholder:this.state.link}),r.a.createElement("button",{onClick:function(){return e._handleSave()},className:"mt-2 btn btn-sm btn-outline-primary"},"Save"),r.a.createElement("button",{onClick:function(){return e._handleLinkCancel()},className:"mt-2 ml-2 btn btn-sm btn-outline-warning"},"Cancel")):r.a.createElement("div",null))))))}}]),t}(n.Component)),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={item:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_onUpdate",value:function(){var e=Object(h.a)(f.a.mark(function e(t,a){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,a);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log("link page: ",r),this.setState({item:r});case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(this.props.match.params.link_id);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({item:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.item;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{item:t,onUpdate:function(t,a){e._onUpdate(t,a)}})):r.a.createElement("div",null,"Loading")}}]),t}(n.Component),oe=Object(p.e)(function(e){return r.a.createElement(ce,e)}),ue=(a(137),a(14)),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={link:{url:"http://",title:null},error:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_handleCreate",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(this.state.link);case 2:return t=e.sent,e.next=5,t.json();case 5:(a=e.sent).error?this.setState({error:a.error}):this.props.history.push("/");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_updateState",value:function(e){var t=this.state.link;t[e.target.id]=e.target.value,this.setState({link:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-2 col-md-8 offset-lg-2 col-lg-8 offset-xl-3 col-xl-6"},r.a.createElement("h6",null,"Create a link"),r.a.createElement("hr",{style:{background:"rgb(75, 71, 71)"}}),r.a.createElement("div",{id:"types",className:"row no-gutters"},r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{className:"w-100 btn btn-sm btn-outline-secondary expand"},r.a.createElement("i",{className:"fas fa-link"})," Link")),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{disabled:!0,className:"w-100 btn btn-sm btn-outline-secondary expand"},r.a.createElement("i",{className:"fab fa-stack-exchange"})," Post")),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{disabled:!0,className:"w-100 btn btn-sm btn-outline-secondary expand"},r.a.createElement("i",{className:"fas fa-image"})," Picture"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"border dark",style:{paddingLeft:10,paddingRight:10,paddingTop:15,paddingBottom:45}},this.state.error?this.state.error.map(function(e,t){return r.a.createElement("div",{className:"alert alert-secondary p-1 text-danger",key:t},e.message)}):r.a.createElement("div",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onKeyUp:function(t){return e._updateState(t)},type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Title",autoComplete:"off"})),this._renderTitleValidation(),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onKeyUp:function(t){return e._updateState(t)},className:"form-control dark",defaultValue:"http://",id:"url",placeholder:"Url",autoComplete:"off"})),this._renderUrlValidation(),r.a.createElement("button",{onClick:function(){return e._handleCreate()},type:"button",className:"btn btn-sm btn-outline-primary float-right"},"Create")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"border",style:{height:"3rem",background:"#2B2B2D"}}))))))}},{key:"_renderTitleValidation",value:function(){var e=ue.validate({title:this.state.link.title},{title:ue.string().required()},{abortEarly:!1});if(e.error&&this.state.link.title&&this.state.link.title.length>0)return r.a.createElement("div",null,e.error.details.map(function(e,t){return r.a.createElement("div",{className:"small alert alert-sm",key:t},e.message)}))}},{key:"_renderUrlValidation",value:function(){var e=ue.validate({url:this.state.link.url},{url:ue.string().uri().required()},{abortEarly:!1});if(e.error&&this.state.link.url&&this.state.link.url.length>0)return r.a.createElement("div",null,e.error.details.map(function(e,t){return r.a.createElement("div",{className:"small alert alert-sm",key:t},e.message)}))}}]),t}(n.Component),pe=Object(p.e)(function(e){return r.a.createElement(me,e)}),de=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null))}}]),t}(n.Component),fe=(a(246),function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mx-1 bg-dark p-2 border"},r.a.createElement("img",{className:"w-50 rounded image-border",src:this.props.profileImage,alt:""}),r.a.createElement("div",{className:"pt-2"},r.a.createElement("h5",null,"".concat(e.firstName," ").concat(e.lastName)),r.a.createElement("h6",null,"u/",e.username),r.a.createElement("p",null,e.bio)),r.a.createElement(M.b,{to:"/link_editor"},r.a.createElement("button",{className:"btn btn-sm btn-outline-primary w-100"},"Create Link"))))}}]),t}(n.Component)),he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user:null,links:null,comments:null,showLinks:!1,showComments:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.links&&this.state.user&&this.state.comments?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-0 col-md-8 offset-lg-1 col-lg-7 offset-xl-2 col-xl-5 mb-3 d-block d-md-none"},r.a.createElement(fe,{username:this.state.user.username,firstName:this.state.user.firstName,lastName:this.state.user.lastName,profileImage:this.state.user.profileImage?this.state.user.profileImage.url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3IVcs5QJhazFnScW3xeWTOCO9MI9xhDYothFRQkZgj9JTS5bjVQ",bio:";asldkj asd;lfkja sdlfkj alk;fj al;dfj al;kdjf alk;dfj "})),r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-0 col-md-8 offset-lg-1 col-lg-7 offset-xl-2 col-xl-5"},r.a.createElement("div",null,r.a.createElement("h6",{className:"btn btn-outline-primary p-1 w-100",onClick:function(){return e.setState({showLinks:!e.state.showLinks})}},"Show my links"),this._renderLinks()),r.a.createElement("div",null,r.a.createElement("h6",{className:"btn btn-outline-primary p-1 w-100 mt-2",onClick:function(){return e.setState({showComments:!e.state.showComments})}},"Show my comments"),this._renderComments())),r.a.createElement("div",{className:"col-md-4 col-lg-3 col-xl-3 d-none d-md-block"},r.a.createElement(fe,{username:this.state.user.username,firstName:this.state.user.firstName,lastName:this.state.user.lastName,profileImage:this.state.user.profileImage?this.state.user.profileImage.url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3IVcs5QJhazFnScW3xeWTOCO9MI9xhDYothFRQkZgj9JTS5bjVQ",bio:";asldkj asd;lfkja sdlfkj alk;fj al;dfj al;kdjf alk;dfj "})))):r.a.createElement("div",{className:"offset-sm-1 col-sm-10 offset-md-0 col-md-8 offset-lg-1 col-lg-7 offset-xl-2 col-xl-5"},this._renderLoading())}},{key:"_getData",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a,n,r,s,l=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(N());case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,z(a.id);case 8:n=e.sent,r=n.links.map(function(e){return{id:e.id,title:e.title,url:e.url}}),s=n.comments,setTimeout(function(){l.setState({links:r,user:n,comments:s})},200);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_renderLoading",value:function(){for(var e=[],t=0;t<6;t++)e.push(r.a.createElement(G,{key:t}));return e}},{key:"_renderLinks",value:function(){return this.state.showLinks?r.a.createElement(Q,{onUpdate:function(){},items:this.state.links}):r.a.createElement("div",null)}},{key:"_renderComments",value:function(){return console.log(this.state.comments),this.state.showComments?this.state.comments.map(function(e,t){return r.a.createElement(ne,{key:t,id:e.id,content:e.content,date:e.date})}):r.a.createElement("div",null)}}]),t}(n.Component),ve=Object(p.e)(function(e){return r.a.createElement(he,e)}),be=(a(247),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user:{id:-1,firstName:"",lastName:"",username:"",email:"",password:"",profileImage:{id:-1,url:""}},error:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_updateUser",value:function(e){var t=this.state.user;t[e.target.id]=e.target.value,this.setState({user:t})}},{key:"_handleSignup",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a,n,r=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.user,e.next=3,b(t);case 3:if(201!==(a=e.sent).status){e.next=8;break}setTimeout(function(){r.props.history.push("/sign_in")},3e3),e.next=12;break;case 8:return e.next=10,a.json();case 10:(n=e.sent).error.detail&&this.setState({error:n.error.detail});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_handleSignin",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.user.email,a=this.state.user.password,e.next=4,g(t,a);case 4:if(201!==(n=e.sent).status){e.next=11;break}return e.next=8,n.json();case 8:r=e.sent.token,_(r),this.props.history.push("/");case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.isSignIn?this._signin():this._signup()}},{key:"_signin",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onKeyUp:function(t){return e._updateUser(t)},type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"example@example.com"}),this._renderEmailValidation()),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{onKeyUp:function(t){return e._updateUser(t)},type:"password",className:"form-control",id:"password",placeholder:"secret"}),this._renderPasswordValidation()),r.a.createElement("button",{id:"login-btn",onClick:function(){return e._handleSignin()},type:"button",className:"btn btn-sm btn-primary"},"Launch"))}},{key:"_signup",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},this.state.error?r.a.createElement("div",{className:"small alert alert-sm"},this.state.error):r.a.createElement("div",null),r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{onKeyUp:function(t){return e._updateUser(t)},type:"text",className:"form-control",id:"firstName","aria-describedby":"emailHelp",placeholder:"Alien"}),this._renderFirstNameValidation()),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{onKeyUp:function(t){return e._updateUser(t)},type:"text",className:"form-control",id:"lastName","aria-describedby":"emailHelp",placeholder:"Ated"}),this._renderLastNameValidation()),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{onKeyUp:function(t){return e._updateUser(t)},type:"text",className:"form-control",id:"username","aria-describedby":"emailHelp",placeholder:"Area51"}),this._renderUsernameValidation()),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onKeyUp:function(t){return e._updateUser(t)},type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"example@example.com"}),this._renderEmailValidation()),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onKeyUp:function(t){return e._updateUser(t)},type:"password",className:"form-control",id:"password",placeholder:"secret"}),this._renderPasswordValidation()),r.a.createElement("button",{onClick:function(){return e._handleSignup()},type:"button",className:"btn btn-sm btn-primary",disabled:!!this.state.error},"Start Engine"))}},{key:"_renderFirstNameValidation",value:function(){var e=ue.validate({firstName:this.state.user.firstName},{firstName:ue.string().min(3).max(30).required()},{abortEarly:!1});if(e.error&&this.state.user.firstName.length>0)return r.a.createElement("div",null,e.error.details.map(function(e,t){return r.a.createElement("div",{className:"small alert alert-sm",key:t},e.message)}))}},{key:"_renderLastNameValidation",value:function(){var e=ue.validate({lastName:this.state.user.lastName},{lastName:ue.string().min(3).max(50).required()},{abortEarly:!1});if(e.error&&this.state.user.lastName.length>0)return r.a.createElement("div",null,e.error.details.map(function(e,t){return r.a.createElement("div",{className:"small alert alert-sm",key:t},e.message)}))}},{key:"_renderUsernameValidation",value:function(){var e=ue.validate({username:this.state.user.username},{username:ue.string().min(3).max(30).required()},{abortEarly:!1});if(e.error&&this.state.user.username.length>0)return r.a.createElement("div",null,e.error.details.map(function(e,t){return r.a.createElement("div",{className:"small alert alert-sm",key:t},e.message)}))}},{key:"_renderEmailValidation",value:function(){var e=ue.validate({email:this.state.user.email},{email:ue.string().email().required()},{abortEarly:!1});if(e.error&&this.state.user.email.length>0)return r.a.createElement("div",null,e.error.details.map(function(e,t){return r.a.createElement("div",{className:"small alert alert-sm",key:t},e.message)}))}},{key:"_renderPasswordValidation",value:function(){var e=ue.validate({password:this.state.user.password},{password:ue.string().min(6).required()},{abortEarly:!1});if(e.error&&this.state.user.password.length>0)return r.a.createElement("div",null,e.error.details.map(function(e,t){return r.a.createElement("div",{className:"small alert alert-sm",key:t},e.message)}))}}]),t}(n.Component)),Ee=Object(p.e)(function(e){return r.a.createElement(be,Object.assign({isSignIn:!!e.match.path.includes("sign_in")},e))}),ge=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8 offset-sm-2 col-md-6 offset-md-3 offset-lg-4 col-lg-4"},r.a.createElement("h4",null,r.a.createElement("i",{className:"fas fa-sign-in-alt mr-2 text-primary"}),"Sign In"),r.a.createElement(Ee,null)))))}}]),t}(n.Component),ke=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8 offset-sm-2 col-md-6 offset-md-3 offset-lg-4 col-lg-4 "},r.a.createElement("h4",null,r.a.createElement("i",{className:"fas fa-user-plus mr-2 text-primary"}),"Sign Up"),r.a.createElement(Ee,null)))))}}]),t}(n.Component),ye=(a(248),a(249),function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("button",{className:"dropdown-toggle btn-sm btn btn-outline-primary user-drop",id:"navbarDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("img",{id:"profile-image",src:this.props.profileImage&&this.props.profileImage.url?this.props.profileImage.url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3IVcs5QJhazFnScW3xeWTOCO9MI9xhDYothFRQkZgj9JTS5bjVQ",alt:""}),this.props.username),r.a.createElement("div",{className:"dropdown-menu bg-dark","aria-labelledby":"navbarDropdown"},r.a.createElement(M.b,{className:"dropdown-item items",to:"/user/".concat(this.props.userId)},r.a.createElement("i",{className:"fas fa-lg fa-user-astronaut m-2 text-primary"}),r.a.createElement("span",{className:"m-2"},"Profile")),r.a.createElement("a",{onClick:function(){return localStorage.removeItem("rbs-reddit-app-logged-user"),void localStorage.removeItem("rbs-reddit-app-token")},className:"dropdown-item items",href:"/"},r.a.createElement("i",{className:"fas fa-lg fa-sign-out-alt m-2 text-primary"}),r.a.createElement("span",{className:"m-2"},"Logout"))))))}}]),t}(n.Component)),je=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/sign_in"},r.a.createElement("button",{className:"btn btn-sm btn-outline-primary m-1 px-4","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Sign in"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.b,{to:"/sign_up"},r.a.createElement("button",{className:"btn btn-sm btn-outline-primary m-1 px-4","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Sign up")))))}}]),t}(n.Component),Ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.user||!this.props.token){e.next=8;break}return e.next=3,y(this.props.token);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({user:a});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.user||!this.props.token){e.next=8;break}return e.next=3,y(this.props.token);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({user:a});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement(M.b,{className:"navbar-brand",to:"/"},r.a.createElement("i",{className:"fab fa-lg fa-reddit-alien m-2 alien"}),"reddit"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show"},r.a.createElement(M.b,{className:"nav-link",to:"/"},r.a.createElement("i",{className:"fas fa-rocket m-2 text-primary"}),"Home")),null!==N()?r.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show"},r.a.createElement(M.b,{className:"nav-link",to:"/link_editor"},r.a.createElement("i",{className:"fas fa-pencil-alt m-2 text-primary"}),"Create Link")):r.a.createElement("div",null)),this.state.user?r.a.createElement(ye,{username:this.state.user.username,profileImage:this.state.user.profileImage,userId:this.state.user.id}):r.a.createElement(je,null)))))}}]),t}(n.Component),Oe=(te=function(e){return r.a.createElement(Ne,{token:e.authToken})},function(){return n.createElement(w,{cb:te})}),xe=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,null),r.a.createElement(p.c,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(p.a,{exact:!0,path:"/",component:$}),r.a.createElement(p.a,{exact:!0,path:"/link/:link_id",component:le}),r.a.createElement(p.a,{exact:!0,path:"/link_editor/:link_id",component:oe}),r.a.createElement(p.a,{exact:!0,path:"/link_editor",component:de}),r.a.createElement(p.a,{exact:!0,path:"/user/:user_id",component:ve}),r.a.createElement(p.a,{exact:!0,path:"/sign_in",component:ge}),r.a.createElement(p.a,{exact:!0,path:"/sign_up",component:ke}))))}}]),t}(n.Component);l.a.render(r.a.createElement(M.a,null,r.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[114,1,2]]]);
//# sourceMappingURL=main.2ef05f84.chunk.js.map